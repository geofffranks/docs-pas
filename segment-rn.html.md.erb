---
title: Isolation Segment v7.0 Release notes
owner: Release Engineering
---

Here you will find the release notes for <%= vars.segment_runtime_full %> <%= vars.v_major_version %>.

<%= vars.app_runtime_first %> is certified by the Cloud Foundry Foundation for 2023.

For more information about the Cloud Foundry Certified Provider Program, see [How Do I Become a Certified
Provider?](https://www.cloudfoundry.org/certified-platforms-how-to/) on the Cloud Foundry website.

Because VMware uses the Percona Distribution for MySQL, expect a time lag between Oracle releasing a MySQL patch and VMware releasing
<%= vars.app_runtime_abbr %> containing that patch.

<hr>

## <a id='releases'></a> Releases

### <a id='7.0.0'></a> 7.0.0

**Release Date:** TBD

### <a id='7.0.0-build.8'></a> 7.0.0-build.8

**Release Date:** 05/29/2024

* **[Breaking Change]** Remove replication-canary
* **[Breaking Change]** Requests with empty Content-Length headers are rejected by Gorouter
* Bump bpm to version `1.2.19`
* Bump cflinuxfs4 to version `1.91.0`
* Bump diego to version `2.99.0`
* Bump garden-runc to version `1.53.0`
* Bump loggregator-agent to version `8.1.1`
* Bump mapfs to version `1.2.70`
* Bump nfs-volume to version `7.1.66`
* Bump routing to version `0.298.0`
* Bump smb-volume to version `3.1.68`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
      <th>Release Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-jammy stemcell</td><td>1.445</td><td></td></tr>
    <tr><td>bpm</td><td>1.2.19</td><td></td></tr>
    <tr><td>cf-networking</td><td>3.46.0</td><td></td></tr>
    <tr><td>cflinuxfs3</td><td>0.387.0</td><td></td></tr>
    <tr><td>cflinuxfs4</td><td>1.91.0</td>
      <td>
        <details>
          <summary>v1.91.0</summary>
          <pre style="max-width: 30em">
  This release ships with cflinuxfs4 version 1.91.0. For more information, see the [release notes](https://github.com/cloudfoundry/cflinuxfs4/releases/tag/1.91.0)
          </pre>
        </details>
        <details>
          <summary>v1.90.0</summary>
          <pre style="max-width: 30em">
  This release ships with cflinuxfs4 version 1.90.0. For more information, see the [release notes](https://github.com/cloudfoundry/cflinuxfs4/releases/tag/1.90.0)
          </pre>
        </details>
        <details>
          <summary>v1.89.0</summary>
          <pre style="max-width: 30em">
  This release ships with cflinuxfs4 version 1.89.0. For more information, see the [release notes](https://github.com/cloudfoundry/cflinuxfs4/releases/tag/1.89.0)
          </pre>
        </details>
        <details>
          <summary>v1.88.0</summary>
          <pre style="max-width: 30em">
  This release ships with cflinuxfs4 version 1.88.0. For more information, see the [release notes](https://github.com/cloudfoundry/cflinuxfs4/releases/tag/1.88.0)
          </pre>
        </details>
        <details>
          <summary>v1.87.0</summary>
          <pre style="max-width: 30em">
  This release ships with cflinuxfs4 version 1.87.0. For more information, see the [release notes](https://github.com/cloudfoundry/cflinuxfs4/releases/tag/1.87.0)
          </pre>
        </details>
        <details>
          <summary>v1.86.0</summary>
          <pre style="max-width: 30em">
  This release ships with cflinuxfs4 version 1.86.0. For more information, see the [release notes](https://github.com/cloudfoundry/cflinuxfs4/releases/tag/1.86.0)
          </pre>
        </details>
        <details>
          <summary>v1.85.0</summary>
          <pre style="max-width: 30em">
  This release ships with cflinuxfs4 version 1.85.0. For more information, see the [release notes](https://github.com/cloudfoundry/cflinuxfs4/releases/tag/1.85.0)
          </pre>
        </details>
        <details>
          <summary>v1.84.0</summary>
          <pre style="max-width: 30em">
  This release ships with cflinuxfs4 version 1.84.0. For more information, see the [release notes](https://github.com/cloudfoundry/cflinuxfs4/releases/tag/1.84.0)
          </pre>
        </details>
        <details>
          <summary>v1.83.0</summary>
          <pre style="max-width: 30em">
  This release ships with cflinuxfs4 version 1.83.0. For more information, see the [release notes](https://github.com/cloudfoundry/cflinuxfs4/releases/tag/1.83.0)
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>cf-cli</td><td>1.60.0</td><td></td></tr>
    <tr><td>count-cores-indicator</td><td>2.0.0</td><td></td></tr>
    <tr><td>diego</td><td>2.99.0</td>
      <td>
        <details>
          <summary>v2.99.0</summary>
          <pre style="max-width: 30em">
  ## Changes
  - Do not remove evacuating actual LRP during cleanup ([rep#53](https://github.com/cloudfoundry/rep/pull/53))
  - Add additional retries when apps make use of credhub for credentials. ([buildpackapplifecycle#71](https://github.com/cloudfoundry/buildpackapplifecycle/pull/71))
  - Prevent panics in BBS by checking for all types of errors ([bbs#95](https://github.com/cloudfoundry/bbs/pull/95))
  - Add retry logic and more explicit failure in router emitter start-up ([router-emitter#34](https://github.com/cloudfoundry/route-emitter/pull/34))
  - Bump envoy blob version to `1.28.3`
  - Go mod dependency bumps
  ## ✨  Built with go 1.22.3
  **Full Changelog**: https://github.com/cloudfoundry/diego-release/compare/v2.98.0...v2.99.0
  ## Resources
  - [Download release 2.99.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/diego-release?version=2.99.0).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>garden-runc</td><td>1.53.0</td>
      <td>
        <details>
          <summary>v1.53.0</summary>
          <pre style="max-width: 30em">
  ## Changes
  - **DEPRECATION NOTICE** The `garden.experimental_use_containerd_mode_for_processes` property and usage of Garden when run in containerd mode for processes is now deprecated and no longer tested.
  -  **DEFAULT CHANGE** - The default mode for garden containers is now containerd. This has been the default in cf-deployment since 2018.
  -  **REMOVAL OF EXPERIMENTAL FUNCTIONALITY NOTICE**  The experimental option to run the garden server process in rootless mode has been removed, as it did not work as expected and was an abandoned feature.
  - Go package dependency bumps
  ## Bosh Job Spec changes:
  ```diff
  diff --git a/jobs/garden-binaries/spec b/jobs/garden-binaries/spec
  index 0433639a..a8a96bae 100644
  --- a/jobs/garden-binaries/spec
  +++ b/jobs/garden-binaries/spec
  @@ -15,7 +15,6 @@ packages:
  - grootfs
  - xfs-progs
  - thresholder
  -  - netplugin-shim
  - dontpanic
  - tini
  diff --git a/jobs/garden/spec b/jobs/garden/spec
  index 027df351..093e53e1 100644
  --- a/jobs/garden/spec
  +++ b/jobs/garden/spec
  @@ -36,7 +36,6 @@ packages:
  - grootfs
  - xfs-progs
  - thresholder
  -  - netplugin-shim
  - dontpanic
  - tini
  @@ -199,10 +198,6 @@ properties:
  description: AppArmor profile to use for unprivileged container processes
  default: garden-default
  -  garden.experimental_rootless_mode:
  -    description: A boolean stating whether or not to run garden-server as a non-root user
  -    default: false
  -
  # We believe this defaults to false to help concourse: https://github.com/cloudfoundry/garden-runc-release/releases/tag/v1.5.0
  # For diego/cf, this should be set to true
  garden.cleanup_process_dirs_on_wait:
  @@ -210,8 +205,8 @@ properties:
  default: false
  garden.containerd_mode:
  -    description: "Use containerd for container lifecycle management. NOTE: cannot be used in combination with bpm or rootless"
  -    default: false
  +    description: "Use containerd for container lifecycle management. NOTE: cannot be used in combination with bpm"
  +    default: true
  garden.tcp_keepalive_time:
  description: Sets the `net.ipv4.tcp_keepalive_time` kernel parameter in containers. If not specified, the value from the linux init_net namespace is used.
  @@ -229,7 +224,7 @@ properties:
  description: Sets the `net.ipv4.tcp_retries2` kernel parameter in containers. If not specified, the value from the linux init_net namespace is used.
  garden.experimental_use_containerd_mode_for_processes:
  -    description: "(Under development) Use containerd for container process management. Must be used with containerd_mode also set to true. NOTE: cannot be used in combination with bpm or rootless"
  +    description: "(Deprecated) No longer used/tested."
  default: false
  garden.experimental_cpu_throttling:
  diff --git a/jobs/gats/spec b/jobs/gats/spec
  index 916a35eb..065e3ace 100644
  --- a/jobs/gats/spec
  +++ b/jobs/gats/spec
  @@ -22,12 +22,6 @@ properties:
  garden_test_rootfs:
  description: Test rootfs to use
  default: 'docker:///cloudfoundry/garden-rootfs'
  -  containerd_for_processes:
  -    description: Run GATS with CONTAINERD_FOR_PROCESSES_ENABLED
  -    default: false
  -  rootless:
  -    description: Run GATS with ROOTLESS env var
  -    default: false
  cpu_throttling:
  description: Run GATS with CPU_THROTTLING_ENABLED
  default: false
  ```
  ## ✨  Built with go 1.22.3
  **Full Changelog**: https://github.com/cloudfoundry/garden-runc-release/compare/v1.52.0...v1.53.0
  ## Resources
  - [Download release 1.53.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/garden-runc-release?version=1.53.0).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>loggregator-agent</td><td>8.1.1</td>
      <td>
        <details>
          <summary>v8.1.1</summary>
          <pre style="max-width: 30em">
  ## What's Changed
  * Bump dependencies
  * Fix Syslog Binding Cache polling to wait for the entire polling interval between each operation in https://github.com/cloudfoundry/loggregator-agent-release/pull/572
  **Full Changelog**: https://github.com/cloudfoundry/loggregator-agent-release/compare/v8.1.0...v8.1.1
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>mapfs</td><td>1.2.70</td>
      <td>
        <details>
          <summary>v1.2.70</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Golang: Updated to v1.22.3. (#259)
  ## Dependencies
  * **v2:** Updated to v2.17.3.<br>For more information, see [v2](https://github.com/onsi/ginkgo).
  * **mapfs:** Updated to v`0de16f2`.<br>For more information, see [mapfs](https://github.com/cloudfoundry/mapfs).
          </pre>
        </details>
        <details>
          <summary>v1.2.69</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **v2:** Updated to v2.17.2.<br>For more information, see [v2](https://github.com/onsi/ginkgo).
  * **gomega:** Updated to v1.33.1.<br>For more information, see [gomega](https://github.com/onsi/gomega).
  * **mapfs:** Updated to v`7f382bc`.<br>For more information, see [mapfs](https://github.com/cloudfoundry/mapfs).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>nfs-volume</td><td>7.1.66</td>
      <td>
        <details>
          <summary>v7.1.66</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **v2:** Updated to v2.17.3.<br>For more information, see [v2](https://github.com/onsi/ginkgo).
  * **nfsbroker:** Updated to v`90964d1`.<br>For more information, see [nfsbroker](https://github.com/cloudfoundry/nfsbroker).
  * **nfsv3driver:** Updated to v`4d13326`.<br>For more information, see [nfsv3driver](https://github.com/cloudfoundry/nfsv3driver).
          </pre>
        </details>
        <details>
          <summary>v7.1.65</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Golang: Updated to v1.22.3 (#920)
  * Bump util-linux from 2.40 to 2.40.1 (#922)
  * Change nfsv3driver statd default port to `41793` (non-ephemeral) (#909)
  * Use newest cf-cli available (#913)
  ## Dependencies
  * **nfsbroker:** Updated to v`071d3d8`.<br>For more information, see [nfsbroker](https://github.com/cloudfoundry/nfsbroker).
  * **nfsv3driver:** Updated to v`49ad37b`.<br>For more information, see [nfsv3driver](https://github.com/cloudfoundry/nfsv3driver).
          </pre>
        </details>
        <details>
          <summary>v7.1.64</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **gomega:** Updated to v1.33.1.<br>For more information, see [gomega](https://github.com/onsi/gomega).
  * **nfsbroker:** Updated to v`33b1b44`.<br>For more information, see [nfsbroker](https://github.com/cloudfoundry/nfsbroker).
  * **nfsv3driver:** Updated to v`2e98b36`.<br>For more information, see [nfsv3driver](https://github.com/cloudfoundry/nfsv3driver).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>otel-collector</td><td>0.4.1</td><td></td></tr>
    <tr><td>routing</td><td>0.298.0</td>
      <td>
        <details>
          <summary>v0.298.0</summary>
          <pre style="max-width: 30em">
  ## Changes
  - :bug: Improve support for requests using the Expect: 100-continue header.
  - :bug: The missing_content_length_header metric introduced in 0.297.0 has been renamed  to empty_content_length_header for more accuracy. Thanks @peanball!
  - :bug: The empty_content_length_header was fixed to more accurately capture events when the content-length header of a request was empty. Previously extra request types were being included erroneously.
  ## Bosh Job Spec changes:
  ```diff
  diff --git a/jobs/gorouter/spec b/jobs/gorouter/spec
  index 712a761f..8269440b 100644
  --- a/jobs/gorouter/spec
  +++ b/jobs/gorouter/spec
  @@ -306,6 +306,9 @@ properties:
  router.keep_alive_probe_interval:
  default: 1s
  description: Interval between TCP keep alive probes. Value is a string (e.g. "10s")
  +  router.keep_alive_100_continue_requests:
  +    description: "If set gorouter reuses backend connection for requests expecting 100-Continue"
  +    default: false
  router.force_forwarded_proto_https:
  description: "Enables setting X-Forwarded-Proto header if SSL termination happened upstream and incorrectly set the header value. When this property is set to true gorouter sets the header X-Forwarded-Proto to https. When this value set to false, gorouter set the header X-Forwarded-Proto to the protocol of the incoming request"
  default: false
  ```
  ## ✨  Built with go 1.22.3
  **Full Changelog**: https://github.com/cloudfoundry/routing-release/compare/v0.297.0...v0.298.0
  ## Resources
  - [Download release 0.298.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/routing-release?version=0.298.0).
          </pre>
        </details>
        <details>
          <summary>v0.297.0</summary>
          <pre style="max-width: 30em">
  ## Changes
  - **🐛FIXES KNOWN ISSUE** Gorouter now correctly returns the status code provided by backends for workflows using 100-continue, or other 1xx interim status codes.  Thanks for catching this @plowin @domdom82 and thanks @geofffranks for the quick fix!
  - 🐛The TLS listener for the health status endpoint in gorouter now handles custom cipher-suites that do not include any of the required HTTP/2 ciphers. Thanks @MarcPaquette + @geofffranks!
  - 🐛 Failing to establish a TCP connection to a backend no longer causes a panic when setting up a WebSocket connection. Thanks @domdom82!
  - ✨The health status endpoint for gorouter is now able to log error messages encountered when it starts up, to aid in troubleshooting. Thanks @MarcPaquette and @geofffranks !
  - ✨Gorouter now provides a `missing_content_length_header` metric that will flag requests that would have been hit by Golang 1.22's new check to reject requests that have an empty content-length header. This can be used to determine if an environment will be affected by disabling the `go.httplaxcontentlength` gorouter property. Thanks @mariash!
  - **NOTE:** The metric is counting requests unaffected by the new golang behavior and will be updated in 0.298.0+, where it is also renamed to `empty_content_length_header`.
  - ✨Route registrar now allows operators to specify load blancing algorithms for individual routes. Thanks @b1tamara and @domdom82 !
  - Bumped to golang 1.22.3
  ## Bosh Job Spec changes:
  ```diff
  diff --git a/jobs/route_registrar/spec b/jobs/route_registrar/spec
  index c51dbb9f..de81a0e8 100644
  --- a/jobs/route_registrar/spec
  +++ b/jobs/route_registrar/spec
  @@ -125,7 +125,8 @@ properties:
  with error, the route is unregistered.
  router_group (required, string, for tcp routes): Name of the router group to which the TCP route should be added.
  external_port (required, string, for tcp routes): Port that the TCP router will listen on.
  -        server_cert_domain_name_modifier (optional, string, for sni routes): a regex replace to help with complicated hostnames
  +        server_cert_domain_name_modifier (optional, string, for sni routes): a regex replace to help with complicated hostnames.
  +        options (optional, object, for http routes): Custom per-route options
  health_check object
  name (required, string): Human-readable reference for the healthcheck
  @@ -135,6 +136,9 @@ properties:
  the script is terminated with `SIGKILL` and the route is unregistered. Value is a string (e.g. "10s") and must parse to a positive time duration i.e. "-5s" is not permitted. Must be less than the value of `registration_interval`.
  Default: Half of the value of `registration_interval`
  +      options object
  +        lb_algo (optional, string): Load balancing algorithm for routing incoming requests to the backend: 'round-robin' or 'least-connection'. In cases where this option is not specified, the algorithm defined in gorouter spec is applied.
  +
  example: |
  - name: my-service
  uris:
  @@ -150,6 +154,8 @@ properties:
  script_path: /path/to/script
  timeout: 5s
  route_service_url: https://my-oauth-proxy-route-service.example.com
  +        options:
  +          lb_algo: least-connection
  - name: my-tls-endpoint
  tls_port: 12346
  server_cert_domain_san: "my-tls-endpoint.internal.com"
  ```
  ## ✨  Built with go 1.22.3
  **Full Changelog**: https://github.com/cloudfoundry/routing-release/compare/v0.296.0...v0.297.0
  ## Resources
  - [Download release 0.297.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/routing-release?version=0.297.0).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>silk</td><td>3.46.0</td><td></td></tr>
    <tr><td>smb-volume</td><td>3.1.68</td>
      <td>
        <details>
          <summary>v3.1.68</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Golang: Updated to v1.22.3 (#408)
  ## Dependencies
  * **v2:** Updated to v2.17.3.<br>For more information, see [v2](https://github.com/onsi/ginkgo).
  * **smbbroker:** Updated to v`17a844f`.<br>For more information, see [smbbroker](https://github.com/cloudfoundry/smbbroker).
  * **smbdriver:** Updated to v`9ccf77c`.<br>For more information, see [smbdriver](https://github.com/cloudfoundry/smbdriver).
          </pre>
        </details>
        <details>
          <summary>v3.1.67</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Use newest cf-cli available (#405)
  ## Dependencies
  * **v2:** Updated to v2.17.2.<br>For more information, see [v2](https://github.com/onsi/ginkgo).
  * **gomega:** Updated to v1.33.1.<br>For more information, see [gomega](https://github.com/onsi/gomega).
  * **smbbroker:** Updated to v`490615c`.<br>For more information, see [smbbroker](https://github.com/cloudfoundry/smbbroker).
  * **smbdriver:** Updated to v`fa2b5d0`.<br>For more information, see [smbdriver](https://github.com/cloudfoundry/smbdriver).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>smoke-tests</td><td>4.10.0</td><td></td></tr>
    <tr><td>syslog</td><td>12.2.5</td><td></td></tr>
    <tr><td>tanzu-jammy-stack</td><td>1.0.1</td><td></td></tr>
  </tbody>
</table>



### <a id='7.0.0-build.6'></a> 7.0.0-build.6

**Release Date:** 05/03/2024


<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-jammy stemcell</td><td>1.423</td></tr>
    <tr><td>bpm</td><td>1.2.18</td></tr>
    <tr><td>cf-networking</td><td>3.46.0</td></tr>
    <tr><td>cflinuxfs3</td><td>0.387.0</td></tr>
    <tr><td>cflinuxfs4</td><td>1.82.0</td></tr>
    <tr><td>cf-cli</td><td>1.60.0</td></tr>
    <tr><td>count-cores-indicator</td><td>2.0.0</td></tr>
    <tr><td>diego</td><td>2.98.0</td></tr>
    <tr><td>garden-runc</td><td>1.52.0</td></tr>
    <tr><td>loggregator-agent</td><td>8.1.0</td></tr>
    <tr><td>mapfs</td><td>1.2.68</td></tr>
    <tr><td>nfs-volume</td><td>7.1.63</td></tr>
    <tr><td>otel-collector</td><td>0.4.1</td></tr>
    <tr><td>routing</td><td>0.296.0</td></tr>
    <tr><td>silk</td><td>3.46.0</td></tr>
    <tr><td>smb-volume</td><td>3.1.66</td></tr>
    <tr><td>smoke-tests</td><td>4.10.0</td></tr>
    <tr><td>syslog</td><td>12.2.5</td></tr>
    <tr><td>tanzu-jammy-stack</td><td>1.0.1</td></tr>
  </tbody>
</table>



### <a id='7.0.0-build.4'></a> 7.0.0-build.4

**Release Date:** 04/17/2024

* **[Feature]** Add option to enable concurrent read/writes for HTTP/1
* **[Feature Improvement]** Allow Isolation Segment routers to route to Diego cells in several Isolation Segments
* Bump bpm to version `1.2.18`
* Bump cf-networking to version `3.45.0`
* Bump diego to version `2.97.0`
* Bump garden-runc to version `1.51.0`
* Bump loggregator-agent to version `8.0.3`
* Bump mapfs to version `1.2.66`
* Bump nfs-volume to version `7.1.61`
* Bump otel-collector to version `0.4.1`
* Bump routing to version `0.295.0`
* Bump silk to version `3.45.0`
* Bump smb-volume to version `3.1.64`
* Bump smoke-tests to version `4.10.0`
* Bump syslog to version `12.2.4`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
      <th>Release Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-jammy stemcell</td><td>1.423</td><td></td></tr>
    <tr><td>bpm</td><td>1.2.18</td><td></td></tr>
    <tr><td>cf-networking</td><td>3.45.0</td>
      <td>
        <details>
          <summary>v3.45.0</summary>
          <pre style="max-width: 30em">
  ## Changes
  - Go dependency bumps
  - Added config for staticcheck
  - Removed references to consul from documentation
  ## Bosh Job Spec changes:
  ```diff
  diff --git a/jobs/policy-server-asg-syncer/spec b/jobs/policy-server-asg-syncer/spec
  index 748c39a7..4c6c9a4e 100644
  --- a/jobs/policy-server-asg-syncer/spec
  +++ b/jobs/policy-server-asg-syncer/spec
  @@ -109,7 +109,7 @@ properties:
  description: "Trusted CA for UAA server."
  uaa_hostname:
  -    description: "Host name for the UAA server.  E.g. the service advertised via Consul DNS.  Must match common name in the UAA server cert. Must be listed in `uaa.zones.internal.hostnames`."
  +    description: "Host name for the UAA server.  E.g. the service advertised via Bosh DNS.  Must match common name in the UAA server cert. Must be listed in `uaa.zones.internal.hostnames`."
  default: uaa.service.cf.internal
  uaa_port:
  diff --git a/jobs/policy-server-internal/spec b/jobs/policy-server-internal/spec
  index 7095775d..029e723f 100644
  --- a/jobs/policy-server-internal/spec
  +++ b/jobs/policy-server-internal/spec
  @@ -41,7 +41,7 @@ properties:
  default: 31946
  health_check_timeout_seconds:
  -    description: "Health check timeout for Consul DNS."
  +    description: "Health check timeout"
  default: 5
  internal_listen_port:
  @@ -52,7 +52,7 @@ properties:
  description: "Trusted CA certificate that was used to sign the vxlan policy agent's client cert and key."
  server_cert:
  -    description: "Server certificate for TLS. Must have common name that matches the Consul DNS name of the policy server, eg `policy-server.service.cf.internal`."
  +    description: "Server certificate for TLS. Must have common name that matches the Bosh DNS name of the policy server, eg `policy-server.service.cf.internal`."
  server_key:
  description: "Server key for TLS."
  diff --git a/jobs/policy-server/spec b/jobs/policy-server/spec
  index 0d9f5157..8e2ccfa8 100644
  --- a/jobs/policy-server/spec
  +++ b/jobs/policy-server/spec
  @@ -101,7 +101,7 @@ properties:
  description: "Trusted CA for UAA server."
  uaa_hostname:
  -    description: "Host name for the UAA server.  E.g. the service advertised via Consul DNS.  Must match common name in the UAA server cert. Must be listed in `uaa.zones.internal.hostnames`."
  +    description: "Host name for the UAA server.  E.g. the service advertised via Bosh DNS.  Must match common name in the UAA server cert. Must be listed in `uaa.zones.internal.hostnames`."
  default: uaa.service.cf.internal
  uaa_port:
  ```
  ## ✨  Built with go 1.21.8
  **Full Changelog**: https://github.com/cloudfoundry/cf-networking-release/compare/v3.44.0...v3.45.0
  ## Resources
  - [Download release 3.45.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/cf-networking-release?version=3.45.0).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>cflinuxfs3</td><td>0.387.0</td><td></td></tr>
    <tr><td>cflinuxfs4</td><td>1.82.0</td><td></td></tr>
    <tr><td>cf-cli</td><td>1.60.0</td><td></td></tr>
    <tr><td>count-cores-indicator</td><td>2.0.0</td><td></td></tr>
    <tr><td>diego</td><td>2.97.0</td>
      <td>
        <details>
          <summary>v2.97.0</summary>
          <pre style="max-width: 30em">
  ## Changes
  - Adds support for comma-delimited destinations in ASGs
  - See: https://github.com/cloudfoundry/executor/pull/96 and https://github.com/cloudfoundry/bbs/pull/94
  - Bump bosh package blobs
  - Bumps `jq` to `1.7.1`
  - Bumps `tar`
  - Bump go.mod dependencies
  ## ✨  Built with go 1.21.8
  **Full Changelog**: https://github.com/cloudfoundry/diego-release/compare/v2.96.0...v2.97.0
  ## Resources
  - [Download release 2.97.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/diego-release?version=2.97.0).
          </pre>
        </details>
        <details>
          <summary>v2.96.0</summary>
          <pre style="max-width: 30em">
  ## Changes
  - Bump to golang 1.21.8
  - Golang package dependency bumps
  - Includes moving from docker v20 to docker v26
  - Includes moving from pgx v3 to pgx v5
  - Remove references to Consul from boshrelease + documentation
  - Many fixes to remove deprecated code and otherwise fix linter violations.
  ## ✨  Built with go 1.21.8
  **Full Changelog**: https://github.com/cloudfoundry/diego-release/compare/v2.95.0...v2.96.0
  ## Resources
  - [Download release 2.96.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/diego-release?version=2.96.0).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>garden-runc</td><td>1.51.0</td>
      <td>
        <details>
          <summary>v1.51.0</summary>
          <pre style="max-width: 30em">
  ## Changes
  - Bumped Golang to 1.21.8
  - Golang package dependency bumps
  - Many updates to get codebase passing the staticcheck linker
  - Updated garden-integration-tests to be a little less flakey
  ## ✨  Built with go 1.21.8
  **Full Changelog**: https://github.com/cloudfoundry/garden-runc-release/compare/v1.50.0...v1.51.0
  ## Resources
  - [Download release 1.51.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/garden-runc-release?version=1.51.0).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>loggregator-agent</td><td>8.0.3</td>
      <td>
        <details>
          <summary>v8.0.3</summary>
          <pre style="max-width: 30em">
  ## What's Changed
  * Bump dependencies
  * Bump to [go1.21.9](https://groups.google.com/g/golang-announce/c/YgW0sx8mN3M/m/khALNYGdAAAJ)
  **Full Changelog**: https://github.com/cloudfoundry/loggregator-agent-release/compare/v8.0.2...v8.0.3
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>mapfs</td><td>1.2.66</td>
      <td>
        <details>
          <summary>v1.2.66</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **mapfs:** Updated to v`b0b6bfa`.<br>For more information, see [mapfs](https://github.com/cloudfoundry/mapfs).
          </pre>
        </details>
        <details>
          <summary>v1.2.65</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Golang: Updated to v1.22.2. (#241)
  ## Dependencies
  * **mapfs:** Updated to v`a80b833`.<br>For more information, see [mapfs](https://github.com/cloudfoundry/mapfs).
          </pre>
        </details>
        <details>
          <summary>v1.2.64</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **v2:** Updated to v2.17.1.<br>For more information, see [v2](https://github.com/onsi/ginkgo).
  * **mapfs:** Updated to v`cd8e7e6`.<br>For more information, see [mapfs](https://github.com/cloudfoundry/mapfs).
          </pre>
        </details>
        <details>
          <summary>v1.2.63</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **v2:** Updated to v2.17.0.<br>For more information, see [v2](https://github.com/onsi/ginkgo).
  * **mapfs:** Updated to v`5381efc`.<br>For more information, see [mapfs](https://github.com/cloudfoundry/mapfs).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>nfs-volume</td><td>7.1.61</td>
      <td>
        <details>
          <summary>v7.1.61</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Golang: Updated to v1.22.2 (#860)
  * Bump openssl- from 3.2.1 to 3.3.0 (#871)
  ## Dependencies
  * **nfsbroker:** Updated to v`1a70719`.<br>For more information, see [nfsbroker](https://github.com/cloudfoundry/nfsbroker).
  * **nfsv3driver:** Updated to v`35b8c6f`.<br>For more information, see [nfsv3driver](https://github.com/cloudfoundry/nfsv3driver).
          </pre>
        </details>
        <details>
          <summary>v7.1.60</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **nfsbroker:** Updated to v`8aec99d`.<br>For more information, see [nfsbroker](https://github.com/cloudfoundry/nfsbroker).
  * **nfsv3driver:** Updated to v`fb67285`.<br>For more information, see [nfsv3driver](https://github.com/cloudfoundry/nfsv3driver).
          </pre>
        </details>
        <details>
          <summary>v7.1.59</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Bump util-linux from 2.39.3 to 2.40 (#853)
  ## Dependencies
  * **nfsbroker:** Updated to v`7bc7bb0`.<br>For more information, see [nfsbroker](https://github.com/cloudfoundry/nfsbroker).
  * **nfsv3driver:** Updated to v`15c152b`.<br>For more information, see [nfsv3driver](https://github.com/cloudfoundry/nfsv3driver).
          </pre>
        </details>
        <details>
          <summary>v7.1.58</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **nfsbroker:** Updated to v`e850d95`.<br>For more information, see [nfsbroker](https://github.com/cloudfoundry/nfsbroker).
  * **nfsv3driver:** Updated to v`8af81b5`.<br>For more information, see [nfsv3driver](https://github.com/cloudfoundry/nfsv3driver).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>otel-collector</td><td>0.4.1</td>
      <td>
        <details>
          <summary>v0.4.1</summary>
          <pre style="max-width: 30em">
  ## What's Changed
  * Bump dependencies
  * Bump to [go1.21.9](https://groups.google.com/g/golang-announce/c/YgW0sx8mN3M/m/khALNYGdAAAJ)
  **Full Changelog**: https://github.com/cloudfoundry/otel-collector-release/compare/v0.4.0...v0.4.1
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>routing</td><td>0.295.0</td>
      <td>
        <details>
          <summary>v0.295.0</summary>
          <pre style="max-width: 30em">
  ## Changes
  - Resolves #401 by reverting the removal of the deprecated BuildNameToCertificate() call
  - Bumps to golang 1.21.9 + golang.org/x/net 0.23.0 to patch CVE-2023-45288
  ## ✨  Built with go 1.21.9
  **Full Changelog**: https://github.com/cloudfoundry/routing-release/compare/v0.294.0...v0.295.0
  ## Resources
  - [Download release 0.295.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/routing-release?version=0.295.0).
          </pre>
        </details>
        <details>
          <summary>v0.294.0</summary>
          <pre style="max-width: 30em">
  ⚠️ This release contains a known issue: gorouter will no longer present the most specific certificate match but rather the first certificate that matches. See https://github.com/cloudfoundry/routing-release/issues/401 for details. Upgrading to routing-release 0.295.0 is advised. ⚠️
  ## Changes
  - [Bump haproxy to 2.8.7](https://github.com/cloudfoundry/routing-release/commit/13b39eb5185656c3557c1ab15b5b13752b2ff6d8)
  - [update templates to not refer to consul](https://github.com/cloudfoundry/routing-release/commit/8216c056b1463bd1d7bf636a749568f70cb924d2)
  - [Default the routing_api.enabled_api_endpoints to mtls](https://github.com/cloudfoundry/routing-release/commit/2e96c2c932f7f945c3c7c15a768d0affc80de446)
  - [Update template test for mTLS routing api default](https://github.com/cloudfoundry/routing-release/commit/469d9e0a4eb0ac6015695ba27c6da80576b29801)
  - [Upgrade cf-cli-8-linux](https://github.com/cloudfoundry/routing-release/commit/b19a25052ed7982c83524ac87d22ed2f316201a2)
  ## Bosh Job Spec changes:
  ```diff
  diff --git a/jobs/routing-api/spec b/jobs/routing-api/spec
  index 1d7efe3c..2e5cd361 100644
  --- a/jobs/routing-api/spec
  +++ b/jobs/routing-api/spec
  @@ -95,7 +95,7 @@ properties:
  routing_api.enabled_api_endpoints:
  description: "Protocols that the routing api will listen on. Possible values: 'mtls', or 'both' (mTLS + HTTP)"
  -    default: "both"
  +    default: "mtls"
  routing_api.mtls_port:
  description: "Port on which Routing API is running, listening with mTLS."
  default: 3001
  ```
  ## ✨  Built with go 1.21.8
  **Full Changelog**: https://github.com/cloudfoundry/routing-release/compare/v0.293.0...v0.294.0
  ## Resources
  - [Download release 0.294.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/routing-release?version=0.294.0).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>silk</td><td>3.45.0</td>
      <td>
        <details>
          <summary>v3.45.0</summary>
          <pre style="max-width: 30em">
  ## Changes
  - Fixes to stop using deprecated code in tests (`net.Error.Temporary()`)
  - Remove consul references from documentation
  - Fix issues bumping the code.cloudfoundry.org/executor package
  - Go package bumps
  ## Bosh Job Spec changes:
  ```diff
  diff --git a/jobs/silk-controller/spec b/jobs/silk-controller/spec
  index a0966a01..cc7529a8 100644
  --- a/jobs/silk-controller/spec
  +++ b/jobs/silk-controller/spec
  @@ -45,11 +45,11 @@ properties:
  default: 46455
  health_check_port:
  -    description: "Health check port for silk controller. Used by the Consul DNS health check."
  +    description: "Health check port for silk controller. Used by the Bosh DNS health check."
  default: 19683
  health_check_timeout_seconds:
  -    description: "Health check timeout for Consul DNS."
  +    description: "Health check timeout"
  default: 5
  listen_ip:
  @@ -64,7 +64,7 @@ properties:
  description: "Trusted CA certificate that was used to sign the silk daemon client cert and key."
  server_cert:
  -    description: "Server certificate for TLS. Must have common name that matches the Consul DNS name of the silk controller, eg silk-controller.service.cf.internal"
  +    description: "Server certificate for TLS. Must have common name that matches the Bosh DNS name of the silk controller, eg silk-controller.service.cf.internal"
  server_key:
  description: "Server key for TLS."
  diff --git a/jobs/silk-daemon/spec b/jobs/silk-daemon/spec
  index 7a1525b3..e3786357 100644
  --- a/jobs/silk-daemon/spec
  +++ b/jobs/silk-daemon/spec
  @@ -70,7 +70,7 @@ properties:
  default: 3457
  silk_controller.hostname:
  -    description: "Host name for the silk controller.  E.g. the service advertised via Consul DNS.  Must match common name in the silk_controller.server_cert"
  +    description: "Host name for the silk controller.  E.g. the service advertised via Bosh DNS.  Must match common name in the silk_controller.server_cert"
  default: "silk-controller.service.cf.internal"
  silk_controller.listen_port:
  diff --git a/jobs/vxlan-policy-agent/spec b/jobs/vxlan-policy-agent/spec
  index 3118022b..802f04bb 100644
  --- a/jobs/vxlan-policy-agent/spec
  +++ b/jobs/vxlan-policy-agent/spec
  @@ -41,7 +41,7 @@ properties:
  default: false
  policy_server.hostname:
  -    description: "Host name for the policy server.  E.g. the service advertised via Consul DNS.  Must match common name in the policy_server.server_cert"
  +    description: "Host name for the policy server.  E.g. the service advertised via Bosh DNS.  Must match common name in the policy_server.server_cert"
  default: "policy-server.service.cf.internal"
  policy_server.internal_listen_port:
  ```
  ## ✨  Built with go 1.21.8
  **Full Changelog**: https://github.com/cloudfoundry/silk-release/compare/v3.44.0...v3.45.0
  ## Resources
  - [Download release 3.45.0 from bosh.io](https://bosh.io/releases/github.com/cloudfoundry/silk-release?version=3.45.0).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>smb-volume</td><td>3.1.64</td>
      <td>
        <details>
          <summary>v3.1.64</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **smbbroker:** Updated to v`02f340b`.<br>For more information, see [smbbroker](https://github.com/cloudfoundry/smbbroker).
  * **smbdriver:** Updated to v`fb88dd0`.<br>For more information, see [smbdriver](https://github.com/cloudfoundry/smbdriver).
          </pre>
        </details>
        <details>
          <summary>v3.1.63</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Golang: Updated to v1.22.2 (#381)
  ## Dependencies
  * **smbbroker:** Updated to v`b380e77`.<br>For more information, see [smbbroker](https://github.com/cloudfoundry/smbbroker).
  * **smbdriver:** Updated to v`0c36c10`.<br>For more information, see [smbdriver](https://github.com/cloudfoundry/smbdriver).
          </pre>
        </details>
        <details>
          <summary>v3.1.62</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **v2:** Updated to v2.17.1.<br>For more information, see [v2](https://github.com/onsi/ginkgo).
  * **smbbroker:** Updated to v`f176916`.<br>For more information, see [smbbroker](https://github.com/cloudfoundry/smbbroker).
  * **smbdriver:** Updated to v`5ee16dc`.<br>For more information, see [smbdriver](https://github.com/cloudfoundry/smbdriver).
          </pre>
        </details>
        <details>
          <summary>v3.1.61</summary>
          <pre style="max-width: 30em">
  ## Dependencies
  * **v2:** Updated to v2.17.0.<br>For more information, see [v2](https://github.com/onsi/ginkgo).
  * **gomega:** Updated to v1.32.0.<br>For more information, see [gomega](https://github.com/onsi/gomega).
  * **smbbroker:** Updated to v`bab4864`.<br>For more information, see [smbbroker](https://github.com/cloudfoundry/smbbroker).
  * **smbdriver:** Updated to v`7f3242d`.<br>For more information, see [smbdriver](https://github.com/cloudfoundry/smbdriver).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>smoke-tests</td><td>4.10.0</td>
      <td>
        <details>
          <summary>4.10.0</summary>
          <pre style="max-width: 30em">
  Create bosh final release 4.10.0
          </pre>
        </details>
        <details>
          <summary>4.9.5</summary>
          <pre style="max-width: 30em">
  Create bosh final release 4.9.5
  ## What's Changed
  * Upgrade Golang to 1.22 by @tas-operability-bot in https://github.com/pivotal/smoke-tests/pull/138
  **Full Changelog**: https://github.com/pivotal/smoke-tests/compare/4.9.5...4.9.5
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>syslog</td><td>12.2.4</td>
      <td>
        <details>
          <summary>v12.2.4</summary>
          <pre style="max-width: 30em">
  ## What's Changed
  * Bump dependencies
  * Bump packaged Golang to go1.21.9
  **Full Changelog**: https://github.com/cloudfoundry/syslog-release/compare/v12.2.3...v12.2.4
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>tanzu-jammy-stack</td><td>1.0.1</td><td></td></tr>
  </tbody>
</table>



## <a id='install'></a> How to install

<% if vars.platform_code != 'OFFLINE' %>
To install <%= vars.segment_runtime_full %> <%= vars.v_major_version %>, see [Installing
<%= vars.segment_runtime_full %>](../operating/installing-pcf-is.html).
<% end %>

To install <%= vars.segment_runtime_full %> <%= vars.v_major_version %>, you must first install Tanzu Operations Manager <%= vars.v_major_version %>. For more information,
see the [VMware Tanzu Operations Manager documentation](https://docs.vmware.com/en/VMware-Tanzu-Operations-Manager/3.0/vmware-tanzu-ops-manager/index.html).


## <a id='new-features'></a> New features in <%= vars.segment_runtime_full %> <%= vars.v_major_version %>

These are the new features for <%= vars.segment_runtime_full %> <%= vars.v_major_version %>.

### TBD

## <a id='breaking-changes'></a> Breaking changes

These are the breaking changes for <%= vars.segment_runtime_full %> <%= vars.v_major_version %>.

### <a id="routing-api-tls"></a>Routing API defaults to TLS only Endpoints

When apps running on <%= vars.segment_runtime_full %> v6.0 use TCP routes,
operators cannot upgrade the platform from <%= vars.app_runtime_abbr %> v6.0 or later to <%= vars.app_runtime_abbr %> v7.0 until one of the following occurs:

1. All Isolated Diego Cells are upgraded to v6.0.8 or later
2. When deploying <%= vars.runtime_abbr %> v7.0, the "Routing API Endpoint Protocol" is set to "HTTPS and plain HTTP" until all Isolated Diego Cells are upgraded to v7.0. After this, <%= vars.app_runtime_abbr %> can be re-deployed to switch Routing API back to "HTTPS only."

<strong>Failure to do at least one of the above steps will result in downtime for Isolated + Windows apps using TCP routes.</strong>

## <a id='known-issues'></a> Known issues

There are no known issues for <%= vars.segment_runtime_full %> <%= vars.v_major_version %>.
